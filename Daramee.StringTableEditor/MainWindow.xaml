<Window x:Class="Daramee.StringTableEditor.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Daramee.StringTableEditor"
        xmlns:conv="clr-namespace:Daramee.StringTableEditor.Converters"
        mc:Ignorable="d"
        Title="Untitled.json - String Table Editor" Height="450" Width="800" Closing="Window_Closing">
    <Window.Resources>
        <conv:NullCheckConverter x:Key="nullCheckConverter" />
    </Window.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="20" />
            <RowDefinition Height="28" />
            <RowDefinition />
        </Grid.RowDefinitions>

        <Menu>
            <MenuItem Header="_File">
                <MenuItem Header="_New..." Click="NewFile_Click" />
                <MenuItem Header="_Open..." Click="OpenFile_Click" />
                <Separator />
                <MenuItem Header="_Save..." Click="SaveFile_Click" />
                <MenuItem Header="Save _as..." Click="SaveAs_Click" />
                <Separator />
                <MenuItem Header="E_xit" Click="Exit_Click" />
            </MenuItem>
            <MenuItem Header="_Edit">
                <MenuItem Header="_Undo" />
                <MenuItem Header="_Redo" />
                <Separator />
                <MenuItem Header="F_ind" />
            </MenuItem>
            <MenuItem Header="_Strings">
                <MenuItem Header="_Add Language" Click="AddLanguage_Click" />
                <MenuItem Header="_Remove Language" Click="RemoveLanguage_Click" />
                <Separator />
                <MenuItem Header="A_dd String" Click="AddString_Click" />
                <MenuItem Header="R_emove String" Click="RemoveString_Click" />
                <Separator />
                <MenuItem Header="_Informations" Click="EditInfo_Click" />
            </MenuItem>
            <MenuItem Header="_Help">
                <MenuItem Header="_About..." />
            </MenuItem>
        </Menu>

        <ToolBarTray Grid.Row="1">
            <ToolBar ToolBarTray.IsLocked="True">
                <Button ToolTip="New...">
                    <Path Data="M7,3.4139538L3.3829978,7.0309906 7,7.0309906z M9,2L9,9.0309887 2,9.0309887 2,30 22,30 22,2z M7.5860596,0L22,0C23.103027,0,24,0.89697266,24,2L24,30C24,31.102966,23.103027,32,22,32L2,32C0.89697266,32,0,31.102966,0,30L0,7.5859985z"
                          Stretch="Uniform" Fill="#FF000000" Width="14" Height="14" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5" />
                </Button>
                <Button ToolTip="Open...">
                    <Path Data="M2.6289987,8.3139955L4.3259975,25.153992 27.671004,25.153992 29.369003,8.3139955z M6.2369935,2.0379943L6.2369935,3.8779906 6.2629945,5.9379884 25.763,5.9379884 25.763,3.8779906 11.824001,3.8779906 11.824001,2.0379943z M4.1999981,0L13.866008,0 13.866008,1.8399962 27.800002,1.8399962 27.800002,5.9379884 31.999999,5.9379884 29.822005,27.529999 2.1780018,27.529999 0,5.9379884 4.2269985,5.9379884 4.201997,3.9029845z"
                          Stretch="Uniform" Fill="#FF000000" Width="14" Height="14" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5" />
                </Button>
                <Button ToolTip="Save...">
                    <Path Data="M5.3999969,24.699982L5.3999969,27.899994 26.199997,27.899994 26.199997,24.699982z M8.2999927,0L12.299995,0 12.299995,8.1000061 8.2999927,8.1000061z M0,0L5.2999908,0 5.2999908,9.7999878 26.199997,9.7999878 26.199997,0 31.700001,0 31.700001,32 0,32z"
                          Stretch="Uniform" Fill="#FF000000" Width="14" Height="14" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5" />
                </Button>

                <Separator />

                <Button ToolTip="Undo">
                    <Path Data="M18.137024,0C21.843018,0 25.321045,1.4430008 27.940002,4.0630035 30.559998,6.6860046 32,10.166 32,13.872002 32,15.199005 31.807007,16.495003 31.444031,17.737999L26.920044,17.737999C27.453003,16.534004 27.736023,15.228004 27.736023,13.872002 27.736023,11.305 26.740051,8.8950043 24.921997,7.0810013 23.110046,5.2669983 20.699036,4.2710037 18.138,4.2710037 15.570007,4.2710037 13.15802,5.2669983 11.350037,7.0810013 10.006042,8.4250031 9.1100464,10.100998 8.7369995,11.918999L13.334045,17.067001 0,17.067001 1.0640259,3.3280029 5.4650269,8.2509995C6.1410522,6.7109985 7.0980225,5.288002 8.3320313,4.0630035 10.949036,1.4430008 14.429016,0 18.137024,0z"
                          Stretch="Uniform" Fill="#FF000000" Width="14" Height="14" RenderTransformOrigin="0.5,0.5" />
                </Button>
                <Button ToolTip="Redo">
                    <Path Data="M5.0825796,17.736008L5.0860019,17.736008 5.0830035,17.737z M13.867998,0C17.572001,-9.9564801E-12 21.051996,1.4430084 23.671999,4.0630035 24.903,5.2890015 25.860001,6.7120056 26.540001,8.2490082L30.936996,3.3289948 32,17.067001 18.67,17.067001 23.267,11.917007C22.890001,10.100006 22.001001,8.423996 20.654001,7.0800018 18.840998,5.2680054 16.433001,4.2700043 13.866999,4.2700043 11.300998,4.2700043 8.8930006,5.2669983 7.0810041,7.0800018 5.2660022,8.8939972 4.2630038,11.304001 4.2630038,13.871002 4.2630038,15.139437 4.5152454,16.369207 4.9859581,17.510035L5.0825796,17.736008 0.56299973,17.736008C0.19400403,16.492996 0,15.197006 0,13.869003 0,10.162994 1.4440039,6.6849976 4.0639987,4.0630035 6.6779966,1.4430084 10.160998,-9.9564801E-12 13.867998,0z"
                          Stretch="Uniform" Fill="#FF000000" Width="14" Height="14" RenderTransformOrigin="0.5,0.5" />
                </Button>

                <Separator />
            </ToolBar>
        </ToolBarTray>

        <Grid Grid.Row="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="240" />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>

            <GridSplitter Width="3" />

            <ListBox Name="listBoxCultureInfos" Margin="0,0,3,0" SelectionMode="Extended"
                     ScrollViewer.CanContentScroll="True"
                     SelectionChanged="listBoxCultureInfos_SelectionChanged" KeyUp="ListBox_KeyUp">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition />
                                <RowDefinition />
                            </Grid.RowDefinitions>

                            <TextBlock Text="{Binding DisplayName}" FontSize="18" />
                            <TextBlock Text="{Binding Name}" Grid.Row="1" />
                        </Grid>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>

            <DataGrid Name="dataGridTable" Grid.Column="2"
                      AutoGenerateColumns="False" CanUserAddRows="True"
                      CanUserDeleteRows="True" CanUserResizeRows="False"
                      IsEnabled="{Binding ElementName=dataGridTable, Path=ItemsSource, Converter={StaticResource nullCheckConverter}}"
                      ScrollViewer.VerticalScrollBarVisibility="Visible" ScrollViewer.HorizontalScrollBarVisibility="Auto" CellEditEnding="DataGridTable_CellEditEnding" KeyUp="DataGrid_KeyUp">
                <DataGrid.Columns>
                    <DataGridTextColumn Binding="{Binding Key}" Header="Key" IsReadOnly="True" Width="*" FontSize="12" />
                    <DataGridTextColumn Binding="{Binding Value}" Header="Value" Width="3*" FontSize="12" />
                </DataGrid.Columns>
                <DataGrid.RowStyle>
                    <Style TargetType="{x:Type DataGridRow}">
                        <Setter Property="FontSize" Value="12"/>
                    </Style>
                </DataGrid.RowStyle>
                <DataGrid.ColumnHeaderStyle>
                    <Style TargetType="DataGridColumnHeader">
                        <Setter Property="Opacity" Value="1" />
                        <Style.Triggers>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Opacity" Value="0.25"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </DataGrid.ColumnHeaderStyle>
            </DataGrid>
        </Grid>
    </Grid>
</Window>
